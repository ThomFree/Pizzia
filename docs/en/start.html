<!DOCTYPE html>
<html lang="en">
<head>
    <title>Pizzia - Zia API for hungry developers</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Pizzia - Zia API for hungry developers">
    <meta name="author" content="Pizzia Team">
    <link rel="shortcut icon" href="favicon.ico">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <script defer src="https://use.fontawesome.com/releases/v5.1.1/js/all.js" integrity="sha384-BtvRZcyfv4r0x/phJt9Y9HhnN5ur1Z+kZbKVgzVBAlQZX4jvAuImlIz+bG7TS00a" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../assets/plugins/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../assets/plugins/elegant_font/css/style.css">
    <link id="theme-style" rel="stylesheet" href="../assets/css/styles.css">

</head>

<body class="landing-page">

<script async defer src="https://buttons.github.io/buttons.js"></script>


<div class="page-wrapper">

    <header class="header text-center">
        <div class="container">
            <div class="branding">
                <h1 class="logo">
                    <span class="text-bold"><img id="logo" src="assets/images/icon.png" /> Pizzia</span>
                </h1>
            </div>
            <div class="tagline">
                <p>Zia API for hungry developers.</p>
                <p>Fait avec <i class="fas fa-heart"></i> for Epitech Paris</p>
            </div>
            <div class="social-container">
                <div class="github-btn mb-2">
                    <a class="github-button" href="https://github.com/ThomFree/Pizzia" data-size="large" aria-label="https://github.com/ThomFree/Pizzia">Repository</a>
                </div>
                <div class="telegram-btn mb-2">
                    <a class="telegram-button" href="https://t.me/joinchat/ILA_wllVCrs-r_-ogoXCBg" data-size="large" aria-label="">Telegram</a>
                </div>
            </div>
        </div>
    </header>
        <div class="doc-wrapper">
            <div class="container">
                <div id="doc-header" class="doc-header text-center">
                    <h1 class="doc-title"><i class="icon fa fa-paper-plane"></i> Introduction</h1>
                    <div class="meta"><i class="far fa-clock"></i> Last Update: the 31st of January 2019</div>
                </div><!--//doc-header-->
                <div class="doc-body row">
                    <div class="doc-content col-md-9 col-12 order-1">
                        <div class="content-inner">
                            <section id="intro-section" class="doc-section">
                                <h2 class="section-title">Pizzia, what it that ?</h2>
                                <div class="section-block">
                                    <p>If you are here, it's probably because you are doing the <b>Zia project</b> by Epitech, that's good, the aim of <b>Pizzia</b> is to give you a <b>simple</b> and <b>coherent</b> way to build it by proposing you to respect and implement and API applying to your HTP modules.</p>
                                    <p>Thanks to Pizzia, you will be able to build <b>easily</b> and <b>quickly</b> your ZIA architecture by following our <b>explanations</b> and <b>diagrams</b> as well as achieving your different modules in a <b>clear</b> and <b>playful</b> way.</p>
                                    <p>Throughout your project, <b>we are commited</b> to answer any questions <b>related to the  API</b> or <b>related to your architecture design</b> by following the API philosophy, besides we are also commited to help you (as far as possible) to <b>implement</b> Pizzia's API.</p>
                                    <p>Finally, you have the possibility <b>to contribute to Pizzia</b> (we would be very pleased to take in count your changes) and <b>to discuss with us</b> about something that does not please you on our API (i.e. a design choice, a function name),we think we could continuously improving ourselves and thus we are always open to dialog. To do so, we invite you to visit our <a href="faq.html">FAQ</a> page to find out how to participate to our project.</p>
                                </div>
                            </section>
                            <section id="philosophy-section" class="doc-section">
                                <h2 class="section-title">Our Philosophy</h2>
                                <div class="section-block">
                                    <p>Our API philosophy can hold in brief: <b>simplicity</b>. Our goal is to provide an API with a <b>high abstraction level</b> to ensure that your modules could be writen in a most concise way.</p><p> Similarly to what <b>UNIX</b> says, <i>(write programs that do one thing and do it well)</i> we want to allow you to build modules that perform one unique task in a way to dispatch the process complexity of a web server in different modules.</p><p>Pizzia takes in consideration and respect the <b>RFC2616</b> from various perspectives (function names for example) in order to offer an universally understable API.</p>

                                </div>
                            </section>
                            <section id="architecture-section" class="doc-section">
                                <h2 class="section-title">Our Architecture</h2>
                                <div class="section-block">
                                    <p>In order to instill the <b>Pizzia's API</b> philosophy, we will (without going into detail) present you a web server architecture with its different modules implementing Pizzia.</p><p> First of all, start to think <b>high level</b> to get Pizzia's operation. We won't talk about <b>socket</b>, nor <b>threads</b> as examples, because <b>Pizzia</b> won't impose you any constraint on how building <b>low level</b> things on your web server.</p> <p>We could sum up (in a synthetic way) an HTTP request made by your brower to a web server with the following diagram:</p><img src="https://i.imgur.com/nQeRQDT.png" /><p>Indeed, we can see <b>the client (your web browser)</b> sending <b>an HTTP request</b> to the <b>web server (Apache, NGINX or your Zia)</b>.<br /> This request contains a bunch of informations <b>(asked resource, method, headers, content ...)</b> that will allow the server to <b>understand</b> the request to <b>treat</b> afterwards, then resend a </b>response in return</b> that also contains bunch of informations <b>(response status, headers, content ...)</b> allowing the web browser to display it to the final user.</p><p>So we quickly understand our web server job lies in the fact of <b>receive a request</b> then perform the nécessary treatment in order to build <b>the response</b>. Well, it's precisely what <b>Pizzia</b> want you to think on how to construct your modules. So let's continue on our diagram:</p><img src="https://i.imgur.com/GleZxAr.png" /> <p>As you might have guessed, the different <b>modules</b> that were added on our diagram are in fact <b>modules implementing Pizzia's API</b> !</p> <p>To make it simple, a module is an object implementing the <b>Pizzia::IModule</b> interface. That will receive <b>an object containinf the request</b> that implements <b>Pizzia::IRequest</b> interface as well as an <b>object containing the response</b> that implements the <b>Pizzia::IResponse</b> interface. From there, the module will properly work, it will be able to modify the request or the response in order to make the next module available etc.</p><p>This is called a module <b>pipeline executing modules one by one (with a priority order)</b> relieving the <b>request</b> and the <b>response</b>, modified or not.</p><p>Let's sum up the <b>request execution flow</b> with the pipeline execution with modules we showed earlier: </p><ul><li>First of all, the <b>web serveur</b> will receive the <b>request</b> (some low level): it will receive a <b>socket</b> and read its content. In our case, our web server is a <b>HTTPS</b> server, the read datas on the <b>socket</b> are encrypted. It will build an <b>object contaning an empty response (filled by the modules)</b> and an <b>object containing the raw and the encrypted request</b> (that can be changed by the modules). It will then call the <b>first pipeline module</b> by sending the two objects.</li><br />
                                    <li>The first module: <b>SSL_decrypt</b> will decipher the request content, so it will <b>modify the object containing the request</b> so that this one contains the <b>decrypted</b> request, however it will not change the response. This module only take action on the request, its goal is <b>precise and simple</b>: <b>decipher it</b>.</li><br />
                                    <li>le second module <b>PHP</b> va se charger de <b>faire exécuter le script PHP</b> associé à la resource demandée. Par le biais de CGI, il va <b>donc transmettre la requête</b> (gracieusement déchiffrée par le module précédent) à PHP qui va <b>interpréter le script</b>, la réponse de l'interpréteur PHP va servir <b>à modifier l'objet contenant la réponse</b> (jusqu'à maintenant vierge)</li><br /><li>le troisième module <b>de compression</b> va simplement se charger de <b>compresser</b> le contenu de la réponse. Il va tout d'abord lire les <b>headers de la requête</b> afin de déterminer si le client <b>est en mesure de décompresser la réponse</b>. Si c'est le cas, il va <b>modifier la réponse</b> (qui avait déjà été modifié précédemment par le module <b>PHP</b>) afin de la <b>compresser.</b></li><br /><li>le quatrième et dernier module <b>SSL_encrypt</b> va effectuer l'opération inverse du premier module (SSL_decrypt), il va tout simplement <b>chiffrer la réponse</b> (tout juste compressée par le module précédent). Ce module ne <b>s'occupe pas des données de la requête</b>, il va simplement <b>modifier la réponse</b>.</li><br />
                                    <li>enfin, l'exécution de notre <b>pipeline de modules</b> est terminée: nous avons désormais un <b>objet contenant la réponse remplie par nos modules</b>. Il ne reste plus qu'a <b>écrire les données brutes de la réponse</b> sur un <b>socket</b> pour le transmettre au navigateur web !</li></ul><hr /><p>Si vous avez compris tout ce que nous venons de vous expliquer, bonne nouvelle: <b>vous avez compris la philosophie de Pizzia</b> et toute <b>l'architecture sous-jacente</b>.</p> <p>Nous avons résumé de façon <b>synthétique</b> le fonctionnement de notre API, mais le <b>principe est très simple à assimiler</b>: nous avons simplement des <b>modules qui s'enchainent</b> afin de <b>manipuler la requête et la réponse</b>.</p> <p>Chaque module <b>peut modifier si besoin la requête</b> (pour que les autres modules qui s'exécuteront ensuite puissent accéder à cette requête modifiée) ainsi que la réponse (pour l'envoi final notamment, ou pour les modules suivants). Lorsque cet <b>enchainement de module est terminé</b>, la <b>réponse est envoyée au client</b> (le dernier module a donc la main sur la réponse, comme le premier peut complétement modifier la requête).</p><p>Pour finir, ce guide est très <b>synthétique et vise à être léger</b> (nous avons volontairement omis d'écrire des lignes de code) pour vous faire <b>comprendre le fonctionnement et la philosophie</b> de Pizzia avant tout. Nous avons réalisé un <a href="#">guide technique</a> avec du code et des instructions pour implémenter vous même <b>Pizzia</b> pour votre Zia, ce guide <b>très complet</b> vise à vous faire <b>comprendre en profondeur</b> le fonctionnement de Pizzia.</p><p>Nous mettons également à votre disposition une <a href="#">documentation Doxygen</a> de notre API ainsi que des <a href="#">exemples de modules</a> implémentant <b>Pizzia</b>.</p>

                                </div>
                            </section>
                            <section id="start-section" class="doc-section">
                                <h2 class="section-title">C'est par où qu'on commence ?</h2>
                                <div class="section-block">
                                    <p>Avant tout, vous devez télécharger l'API Pizzia afin de pouvoir commencer à l'implémenter. Pour cela vous avez deux solutions: - utiliser directement notre repository sur Github en passant par le système de <a href="https://git-scm.com/docs/git-submodule">submodules</a> de GIT<br /> - télécharger directement la dernière release de notre API et la copier/coller dans votre projet.<br /><br />
                                        Il faut savoir que durant toute l'avancée du projet, l'API est susceptible d'être modifiée (après vos retours notamments et la contribution de différents groupes), c'est pour cela que nous vous conseillons la première solution afin d'avoir constamment la dernière version de Pizzia pour votre Zia. <br /><br />Vous pouvez néanmoins utiliser la deuxième solution, nous nous engageons à faire le nécessaire pour vous avertir en cas de nouvelle version (par e-mail / Yammer ou tout autre moyen de communication) et également à ne pas faire de changements majeurs afin de vous assurer que vous n'ayez jamais de <b>réimplémentation</b> de notre API à faire au cours de votre projet. Nous ferons donc en sorte de faire évoluer l'API seulement de façon mineur.
                                    </p>
                                    <a href="https://github.com/ThomFree/Pizzia/releases" target="_blank" class="btn btn-green"><i class="fas fa-cloud-download-alt"></i> Télécharger la dernière release (v1.0)</a>
                                </div>
                            </section>
                        </div><!--//content-inner-->
                    </div><!--//doc-content-->
                    <div class="doc-sidebar col-md-3 col-12 order-0 d-none d-md-flex">
                        <div id="doc-nav" class="doc-nav">

	                            <nav id="doc-menu" class="nav doc-menu flex-column sticky">
	                                <a class="nav-link scrollto" href="#intro-section">Pizzia c'est quoi ?</a>
                                    <a class="nav-link scrollto" href="#philosophy-section">Philosophie</a>
                                    <a class="nav-link scrollto" href="#architecture-section">Architecture</a>
                                    <a class="nav-link scrollto" href="#start-section">C'est par où qu'on commence ?</a>

	                            </nav><!--//doc-menu-->

                        </div>
                    </div><!--//doc-sidebar-->
                </div><!--//doc-body-->
            </div><!--//container-->
        </div><!--//doc-wrapper-->



    </div><!--//page-wrapper-->

    <footer class="footer text-center">
            <div class="container">
                <small class="copyright">&copy; 2019 Pizzia "The Zia API for hungry developers" - design par <a href="https://themes.3rdwavemedia.com/" target="_blank">Xiaoying Riley</a></small>

            </div>
        </footer>


        </body>
        </html>

