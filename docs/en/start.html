<!DOCTYPE html>
<html lang="en">
<head>
    <title>Pizzia - Zia API for hungry developers</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Pizzia - Zia API for hungry developers">
    <meta name="author" content="Pizzia Team">
    <link rel="shortcut icon" href="favicon.ico">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <script defer src="https://use.fontawesome.com/releases/v5.1.1/js/all.js" integrity="sha384-BtvRZcyfv4r0x/phJt9Y9HhnN5ur1Z+kZbKVgzVBAlQZX4jvAuImlIz+bG7TS00a" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../assets/plugins/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../assets/plugins/elegant_font/css/style.css">
    <link id="theme-style" rel="stylesheet" href="../assets/css/styles.css">

</head>

<body class="landing-page">

<script async defer src="https://buttons.github.io/buttons.js"></script>


<div class="page-wrapper">

    <header class="header text-center">
        <div class="container">
            <div class="branding">
                <h1 class="logo">
                    <span class="text-bold"><img id="logo" src="../assets/images/icon.png" /> <a href="index.html">Pizzia</a></span>
                </h1>
            </div>
            <div class="tagline">
                <p>Zia API for hungry developers.</p>
                <p>Fait avec <i class="fas fa-heart"></i> for Epitech Paris</p>
                <a href="../start.html" style="font-size: 15px">Switch to the french version</a>
            </div>
            <div class="social-container">
                <div class="github-btn mb-2">
                    <a class="github-button" href="https://github.com/ThomFree/Pizzia" data-size="large" aria-label="https://github.com/ThomFree/Pizzia">Repository</a>
                </div>
                <div class="telegram-btn mb-2">
                    <div class="widget large">
                        <a href="https://t.me/joinchat/ILA_wllVCrs-r_-ogoXCBg" target="_blank" class="btn" aria-label="https://t.me/joinchat/ILA_wllVCrs-r_-ogoXCBg">
                            <i class="fab fa-telegram"></i><span>Telegram</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>
        <div class="doc-wrapper">
            <div class="container">
                <div id="doc-header" class="doc-header text-center">
                    <h1 class="doc-title"><i class="icon fa fa-paper-plane"></i> Introduction</h1>
                    <div class="meta"><i class="far fa-clock"></i> Last Update: the 31st of January 2019</div>
                </div><!--//doc-header-->
                <div class="doc-body row">
                    <div class="doc-content col-md-9 col-12 order-1">
                        <div class="content-inner">
                            <section id="intro-section" class="doc-section">
                                <h2 class="section-title">Pizzia, what's that ?</h2>
                                <div class="section-block">
                                    <p>If you're here, you must be working the <b>Zia project</b> proposed by Epitech, well today's your lucky day ! The aim of <b>Pizzia</b> is to provide you with a <b>simple</b> and <b>coherent</b> way of nailing this project.</p>
                                    <p>Thanks to Pizzia, you'll be able to <b>easily</b> and <b>quickly</b> build your ZIA architecture by following our <b>explanations</b> and <b>diagrams</b>. You'll also be able to develop different modules in a <b>clear</b> and <b>playful</b> way.</p>
                                    <p>Throughout your project, <b>we are commited</b> to answer any of your <b>API-related</b> or <b>architecture-related</b> questions. Besides, we're also entitled to help you (as musch as we can) to <b>implement</b> Pizzia's API.</p>
                                    <p>Finally, you can <b>contribute to Pizzia</b> (we'd be very pleased if you do) and <b>discuss with us</b> about something that does not please you in our API (i.e. a design choice, a function name). We think we could continuously improve the API and thus we are always open to dialog. To do so, we invite you to visit our <a href="faq.html">FAQ</a> page to find out how to contribute to our project.</p>
                                </div>
                            </section>
                            <section id="philosophy-section" class="doc-section">
                                <h2 class="section-title">The Pizzia Philosophy</h2>
                                <div class="section-block">
                                    <p>Our API philosophy can be boiled down to one word: <b>simplicity</b>. Our goal is to provide an API with a <b>high abstraction level</b> to ensure that your modules can be written in the most concise way possible.</p><p> Similar to how <b>UNIX</b> does things, <i>(write programs that do one thing and do it well)</i> we want to allow you to build modules that perform one unique task, so that your web server can dispatch the process complexity in different modules.</p><p>Pizzia takes under consideration and respects the <b>RFC2616</b> from various perspectives (function names for example) in order to offer you an universally understandable API.</p>

                                </div>
                            </section>
                            <section id="architecture-section" class="doc-section">
                                <h2 class="section-title">Our Architecture</h2>
                                <div class="section-block">
                                    <p>In order to project the <b>Pizzia API</b> philosophy, we will (without going too much into detail) present you with a web server architecture and its different modules implementing Pizzia.</p><p> First of all, start to think <b>high level</b>. We won't talk about <b>sockets</b>, nor <b>threads</b> as examples, because <b>Pizzia</b> won't impose you any constraint on how to build <b>low level</b> things on your web server.</p> <p>We could sum up (in a synthetic way) an HTTP request made by your browser to a web server with the following diagram:</p><img src="https://i.imgur.com/GPbIAFB.png" /><p>Indeed, we can see <b>the client (your web browser)</b> sending <b>an HTTP request</b> to the <b>web server (Apache, NGINX or your Zia)</b>.<br /> This request contains a bunch of information <b>(needed resource, method, headers, content ...)</b> which will allow the server to <b>understand</b> the request that needs to be dealt with afterwards, then send back a </b>response</b> that also contains a bunch of information <b>(response status, headers, content ...)</b> allowing the web browser to display it to the final user.</p><p>It is clear now that our web server's job is to <b>receive requests</b> then perform the necessary treatment in order to build <b>the response</b>. Well, it's precisely how <b>Pizzia</b> wants you to think with your modules. So let's continue on our diagram:</p><img src="https://i.imgur.com/DDAGPzA.png" /> <p>As you might have guessed, the different <b>modules</b> that were added on our diagram are in fact <b>modules implementing Pizzia's API</b> !</p> <p>To make it simple, a module is an object implementing the <b>Pizzia::IModule</b> interface. It will receive <b>an object containing the request</b> that implements the <b>Pizzia::IRequest</b> interface as well as an <b>object containing the response</b> that implements the <b>Pizzia::IResponse</b> interface. From there, the module will work properly, it will be able to modify the request or the response for the next module etc...</p><p>This is called a module <b>pipeline, it executes modules one by one (with a priority order)</b> passing the <b>request</b> and the <b>response</b> within them, modified or not.</p><p>Let's sum up the <b>request execution flow</b> with the pipeline execution with modules we showed earlier: </p><ul><li>First of all, the <b>web server</b> will receive the <b>request</b> (some low level): it will receive a <b>socket</b> and read its content. In our case, our web server is a <b>HTTPS</b> server, which means the data on the <b>socket</b> is ciphered. It will build an <b>object contaning an empty response (filled by the modules)</b> and an <b>object containing the raw and the ciphered request</b> (that can be changed by the modules). It will then call the <b>first pipeline module</b> by sending the two objects.</li><br />
                                    <li>The first module: <b>SSL_decrypt</b> will decipher the request content, so it will <b>modify the object containing the request</b> so that it contains the <b>decrypted</b> request, however it will not change the response. This module only acts on the request, its goal is <b>precise and simple</b>: <b>deciphering</b>.</li><br />
                                    <li>The second module: <b>PHP</b> will take care of <b>executing the PHP script</b> associated to the needed resource. Through CGI, it will <b>transmit the request</b> (deciphered by the last module) to PHP that will <b>interpret the script</b>, the response from the PHP interpreter will be used <b>to modify the object containing the response</b> (empty so far)</li><br /><li>The third module, <b>compression module</b> will simply be in charge of <b>compressing</b> the response content. First of all, it will read the <b>request headers</b> in order to determine if the client <b>is able to decompress the response</b>.If it is, it will <b>modify the response</b> (that was already modified by the <b>PHP</b> module) in order to <b>compress it.</b></li><br /><li>The fourth and last module: <b>SSL_encrypt</b> will make the exact opposite of the first module (SSL_decrypt), it will simply <b>cipher the response</b> (compressed by the last module). This one <b>doesn't care about the request</b>, it will only <b>modify the response</b>.</li><br />
                                    <li>Now, the <b>pipeline execution</b> is done: we now have an <b>object containing the reponse filled by the modules</b>. All that's left is <b>to write the response's raw data</b> in a <b>socket</b> to transmit it to the web browser !</li></ul><hr /><p>If you understood all of that, good news: <b>you understood the Pizzia philosophy</b> and all of <b>the underlying architecure</b>.</p> <p>We summed up the functionning of our API in the most <b>synthetic</b> way possible, so that the <b>principle is really easy to assimilate</b>: <b>chaining modules</b> that <b>manipulate the request/response</b>.</p> <p>Every module <b>can modify, if needed, the request</b> (so that the other modules that are executed afterwards can have access to that modified request) as well as the reponse (for the one that sends it in particular, or for the following modules). When this <b>chain of modules is done executing</b>, the <b>response is sent to the client</b> (the last module has the hand on the response, just as much as the first one can modify the request).</p><p>Finally, this guide is <b>synthetic and purposefully aiming to be light</b> (we voluntarily ommited to write lines of code) to make you <b>understand the functionning and the philosophy</b> of Pizzia. We wrote a <a href="guide.html">technical guide</a> with code and instructions to implement <b>Pizzia</b> in your Zia, this <b>very handsome</b> guide aims to make you <b>understand in depth</b> the functionning of Pizzia.</p><p>We provide you with a <a href="../doxygen/index.html">Doxygen documentation</a> of our API as well as some <a href="#">modules examples</a> implementing <b>Pizzia</b>.</p>

                                </div>
                            </section>
                            <section id="start-section" class="doc-section">
                                <h2 class="section-title">Where do I start ?</h2>
                                <div class="section-block">
                                    <p>First of all, you need to download the Pizzia API in order to begin implementing it. You have two options: - to directly use our repository on Github by going through the <a href="https://git-scm.com/docs/git-submodule">submodules system</a> from GIT<br /> - Direct download the last release of our API and then copy/paste it in your project.<br /><br />
                                        You have to know that during the project, the API is likely change (after your feedbacks and your contributions), that's why we <b>strongly</b> advise you to go for the first option, in order <b>always</b> work with the last release. <br /><br />Of course, you can use the second option. We are commited to communicate on any changes or any new version (by e-mail / Yammer / Telegram or anything) and also not making any major changes in order to ensure your that you won't have to remake everything. Only small changes, we promise.
                                    </p>
                                    <a href="https://github.com/ThomFree/Pizzia/releases" target="_blank" class="btn btn-green"><i class="fas fa-cloud-download-alt"></i> Download last release (v1.0)</a>
                                </div>
                            </section>
                        </div><!--//content-inner-->
                    </div><!--//doc-content-->
                    <div class="doc-sidebar col-md-3 col-12 order-0 d-none d-md-flex">
                        <div id="doc-nav" class="doc-nav">

	                            <nav id="doc-menu" class="nav doc-menu flex-column sticky">
	                                <a class="nav-link scrollto" href="#intro-section">Pizzia what's that ?</a>
                                    <a class="nav-link scrollto" href="#philosophy-section">Our Philosophy</a>
                                    <a class="nav-link scrollto" href="#architecture-section">Our Architecture</a>
                                    <a class="nav-link scrollto" href="#start-section">Where do I start ?</a>

	                            </nav><!--//doc-menu-->

                        </div>
                    </div><!--//doc-sidebar-->
                </div><!--//doc-body-->
            </div><!--//container-->
        </div><!--//doc-wrapper-->



    </div><!--//page-wrapper-->

    <footer class="footer text-center">
            <div class="container">
                <small class="copyright">&copy; 2019 Pizzia "The Zia API for hungry developers" - designed by <a href="https://themes.3rdwavemedia.com/" target="_blank">Xiaoying Riley</a></small>

            </div>
        </footer>


        </body>
        </html>

